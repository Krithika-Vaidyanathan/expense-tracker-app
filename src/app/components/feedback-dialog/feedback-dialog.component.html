<!-- Only show when visible -->
<div *ngIf="visible" class="fixed inset-0 z-50 flex items-center justify-center">

  <!-- Background Overlay -->
  <div 
    class="absolute inset-0 bg-black/40 backdrop-blur-sm animate-fadeIn"
    (click)="close.emit()">
  </div>

  <!-- Dialog Box -->
  <div
    class="relative bg-white rounded-xl shadow-xl w-[90%] max-w-md p-6 animate-slideUp">

    <!-- Title -->
    <h2 class="text-xl font-semibold text-gray-800 mb-2">
      Submit Feedback
    </h2>

    <p class="text-gray-600 text-sm mb-4">
      Tell us what you think or any improvements you'd like to see.
    </p>

    <!-- Feedback Input -->
    <textarea
      [(ngModel)]="message"
      rows="5"
      placeholder="Write your feedback..."
      class="w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none
             focus:ring-2 focus:ring-customHsl-accent"
    ></textarea>

    <!-- Messages -->
    <p *ngIf="error" class="text-red-600 text-sm mt-2">{{ error }}</p>
    <p *ngIf="success" class="text-green-600 text-sm mt-2">{{ success }}</p>

    <!-- Buttons -->
    <div class="mt-5 flex justify-end gap-3">

      <button
        class="px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100"
        (click)="close.emit()">
        Cancel
      </button>

      <button
        (click)="submit()"
        [disabled]="submitting"
        class="px-5 py-2 rounded-md bg-customHsl-accent text-white font-medium
               hover:brightness-110 disabled:opacity-60 transition">
        {{ submitting ? 'Sending...' : 'Submit' }}
      </button>

    </div>

  </div>
</div>

<style>
  @keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }
  .animate-fadeIn {
    animation: fadeIn .2s ease-out;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-slideUp {
    animation: slideUp .25s ease-out;
  }
</style>
